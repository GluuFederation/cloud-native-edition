#global values to be used across charts
global:
  # cloud.enabled creates the nginx-ingress chart
  cloud:
    enabled: true
    provisioner: kubernetes.io/aws-ebs 
    # values used to define the StorageClass template
  encrypted: true
  pool: default
  fsType: ext4
  awsZone: us-west-2a
  gcePdStorageType: pd-standard
  azureStorageAccountType: Standard_LRS
  azureStorageKind: Managed
  reclaimPolicy: Retain
  provisioner: k8s.io/minikube-hostpath

  namespace: default
  nginxNamespace: ingress
  serviceName: opendj
  oxAuthServiceName: oxauth
  oxTrustSeriveName: oxtrust
  # Networking configs
  lbAddr: a61e34bcdf4c811e9ade00a26314cd24-1097727752.us-west-2.elb.amazonaws.com
  nginxIp: 34.102.208.248 # SHOULD BE CHANGED FOR CLOUD
  domain: aws.testinghelm.tk 

  gluuLdapUrl: opendj:1636
  gluuOxtrustBackend: oxtrust:8080
  
  gluuMaxRamPercent: "75.0"
  configAdapterName: kubernetes
  configSecretAdapter: kubernetes
  #persistence types and options
  # options: ldap/couchbase/hybrid
  gluuPersistenceType: ldap
  # options: default/user/site/cache/statistic; used only if GLUU_PERSISTENCE_TYPE is hybrid
  gluuPersistenceLdapMapping: default
  # used only if GLUU_PERSISTENCE_TYPE is ldap or hybrid
  # used only if GLUU_PERSISTENCE_TYPE is couchbase or hybrid
  gluuCouchBaseUrl: couchbase

#efs-provisioner used for creating shared file system in AWS
efs-provisioner:
  enabled: true
  efsProvisioner:
    # If specified, use this DNS or IP to connect the EFS
    # dnsName: "my-custom-efs-dns.com"
    dnsName: fs-a23f2e09.efs.us-west-2.amazonaws.com # fs-xxxxxx.efs.us-east-1.amazonaws.com
    efsFileSystemId: fs-a23f2e09
    awsRegion: us-west-2
    path: /opt/shared-shibboleth-idp
    provisionerName: example.com/aws-efs
    storageClass:
      name: aws-efs
      isDefault: false

nginx-ingress:
  controller:
    service:
      loadBalancerIP: ""
    
    ## If controller.stats.enabled = true and controller.metrics.enabled = true, Prometheus metrics will be exported
    ##
    metrics:
      service:
        loadBalancerIP: ""

  ## default 404 backend
    service:
      loadBalancerIP: ""

      ## Set external traffic policy to: "Local" to preserve source IP on
      ## providers supporting it
      ## Ref: https://kubernetes.io/docs/tutorials/services/source-ip/#source-ip-for-services-with-typeloadbalancer
      externalTrafficPolicy: "Local"

# Required environment variables for generating Gluu server initial config
# values for config-init sub-chart
config:
  enabled: false
  orgName: Gluu
  # email address of the administrator usually. Used for certificate creation
  email: support@gluu.com
  # adminPass is administrator password for oxTrust and LDAP
  adminPass: P@ssw0rd
  # organisation location details
  countryCode: US
  state: TX
  city: SLC
  # ldapType only OpenDJ is supported
  ldapType: opendj

oxauth:
  enabled: false

oxtrust:
  enabled: false

opendj:
  enabled: false
  # options REDIS/NATIVE_PERSISTENCE
  gluuCacheType: NATIVE_PERSISTENCE
  # options true/false : must be enabled if cache type is REDIS
  gluuRedisEnabled: false
  replicas: 1
  persistence:
    size: 5Gi

# redis should be enabled only when cacheType is REDIS
redis:
  enabled: false

shared-shib:
  enabled: false

nginx:
  enabled: false
  # ingress resources
  ingress:
    enabled: false
    path: /
    hosts:
      - aws.testinghelm.tk
    tls: 
    - secretName: tls-certificate # DON'T change 
      hosts:
        - aws.testinghelm.tk

rbac:
  enabled: false

oxshibboleth:
  enabled: false

nfs: 
  enabled: false 

oxpassport:
  enabled: false

key-rotation:
  enabled: false

cr-rotate:
  enabled: false 

radius:
  enabled: false
